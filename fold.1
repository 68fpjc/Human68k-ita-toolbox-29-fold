


FOLD(1)        Human68k ITA TOOLBOX User's Manual         FOLD(1)



名称
     fold - 行を有限の桁幅内に折りたたむ

形式
     fold [ -bnsBCZ ] [ -w width ] [ -width ] [ -- ] [ file ] ...

解説
     fold は各 file を順次読み取り，各行が有限の桁幅 width 内に収
     まるよう折りたたんで（width を超える文字の前に ^M^J を挿入し
     て）標準出力に出力します．ただし width よりも幅の広い文字が
     あれば，それ 1文字が 1行となります．

     file が 1つも指定されていない場合，または file が‘-’である
     場合には標準入力から読み取りを行います．file がオープンでき
     ないときにはエラー・メッセージを標準エラー出力に出力して処理
     を継続します．

     width は -80 のように - に続けて直接記述することもできますし，
     -w80 または -w 80 のように -w オプションの引数として指定する
     こともできます．width を指定しない場合のデフォルトは 80 です．

     水平タブ（^I）による桁の進み，バックスペース（^H）と復帰（^M）
     による桁の後退は考慮されます．水平タブによる桁の進みは, 8 の
     整数倍にあたる桁をタブストップとして計算されます.

     fold には次のオプションがあります．

     -b   桁幅ではなくバイト数を数えます．水平タブ（^I），バック
          スペース（^H），復帰（^M）も特別扱いされません．シフト
          JISの 2バイト文字も分断される可能性があります．シフト
          JIS 2バイト文字を保存したい場合は -n オプションを併用し
          てください．

     -n   -b オプションのサブオプション．シフトJISの 2バイト文字
          を分断しません．

     -s   width を超える文字よりも前にスペースか水平タブがあれば
          その直後で折りたたみます．

     -B   決して ^J コードの ^M^J への変換を行いません．通常は，
          出力が cooked モードのキャラクタ・デバイス（CON や PRN
          など）である場合には，^M に続いていない ^J コードを
          ^M^J に変換して出力します．

     -C   -B オプションと逆に，^M に続いていない ^J コードを常に
          ^M^J に変換して出力します．

     -Z   いかなる入力からも，^Z (control-Z) コードを EOF と見な
          して入力を打ち切ります．通常は，入力が cooked モードの
          キャラクタ・デバイス（CON など）である場合にのみ，^D か
          または ^Z を読み取ると，それを EOF コードと見なして入力
          を打ち切ります．

関連事項
     expand(1)

診断
     何らかのエラーがあったときにはエラー・メッセージが標準エラー
     出力に出力されます．

     終了ステータスとしては，引数の記述に間違いがあった場合には 1，
     ファイルがオープンできなかったり入力に失敗した場合には 2，出
     力エラーやメモリ不足など，システムの問題により正常に実行でき
     なかった場合には 3，すべてが正常に終了したならば 0 が返りま
     す．^C などによって中断したときの終了ステータスは OS の仕様
     によります．

不具合
     fold は，復帰，改行，バックスペース，水平タブを除く文字はす
     べて 1バイトあたり 1桁を占めるものとして桁を数えています．一
     般的なシフトJISテキストにはこれで対応できますが，2バイト半角
     文字などの特殊な文字には対応していません．

バージョン
     1.0

制作・著作
     Copyright(C)1994 by 板垣 史彦 (Itagaki Fumihiko)



1.0                 Last change: 18 Apr 1994     Itagaki Fumihiko



